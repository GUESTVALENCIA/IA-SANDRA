:root{
  --bg:#0b0c10; --panel:#121417; --text:#e8f0fe; --muted:#9aa3b2;
  --accent:#2ee6a6; --accent2:#5f9cff; --danger:#ff4d6d;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font:500 15px system-ui, -apple-system, Segoe UI, Roboto, Ubuntu}
.container{max-width:640px;margin:0 auto;padding:16px}
.header{display:flex;align-items:center;gap:12px}
.avatar{
  width:72px;height:72px;border-radius:999px;position:relative;overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.35);border:2px solid rgba(255,255,255,.08)
}
.avatar img{width:100%;height:100%;object-fit:cover;display:block;filter:contrast(1.05) saturate(1.03)}
.avatar .pulse{position:absolute;inset:-6px;border:3px solid rgba(46,230,166,.25);border-radius:999px;animation:pulse 2.4s infinite}
@keyframes pulse{0%{opacity:.7;transform:scale(.95)}70%{opacity:0;transform:scale(1.25)}100%{opacity:0;transform:scale(1.25)}}
.mouth{position:absolute;left:50%;bottom:12px;transform:translateX(-50%);
  width:24px;height:6px;border-radius:10px;background:rgba(0,0,0,.7);
  transition:transform .06s ease;
}
.title{font-weight:800;font-size:20px}
.badge{font-size:12px;color:var(--muted)}
.panel{background:var(--panel);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:12px;margin-top:14px}
.chat{display:flex;flex-direction:column;gap:8px;max-height:52vh;overflow:auto;padding-right:4px}
.msg{max-width:85%;padding:10px 12px;border-radius:16px;line-height:1.35;backdrop-filter:blur(6px)}
.msg.user{align-self:flex-end;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.09)}
.msg.ai{align-self:flex-start;background:linear-gradient(135deg, rgba(46,230,166,.18), rgba(95,156,255,.18));border:1px solid rgba(255,255,255,.09)}
.controls{display:flex;gap:8px;margin-top:10px}
input[type=text]{flex:1;background:#0f1114;border:1px solid rgba(255,255,255,.07);border-radius:12px;color:var(--text);
  padding:12px 12px;outline:none}
.btn{background:#12161d;border:1px solid rgba(255,255,255,.08);color:var(--text);padding:10px 14px;border-radius:12px}
.btn.primary{background:linear-gradient(135deg,#1d9a86,#2ee6a6);border:0;color:#04251e;font-weight:700}
.state{font-size:12px;color:var(--muted);margin-top:6px}
.install{margin-top:12px;padding:10px 12px;border-radius:10px;background:rgba(95,156,255,.15);border:1px dashed rgba(95,156,255,.35);color:#cfe3ff}
.modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.5);z-index:9999}
.modal .card{width:min(92vw,520px);background:var(--panel);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:14px}
.modal.show{display:grid}
.small{font-size:12px;color:var(--muted)}
.voice-btn{min-width:48px}
.wave{height:28px;display:flex;gap:3px;align-items:flex-end}
.wave span{width:4px;background:var(--accent);border-radius:2px;height:6px;opacity:.75;transform-origin:bottom}
.wave.active span{animation:wave 500ms linear infinite alternate}
@keyframes wave{to{height:22px}}
.alert{background:rgba(255,77,109,.12);color:#ffd9e1;border:1px solid rgba(255,77,109,.25);padding:10px 12px;border-radius:10px;margin-top:8px}