<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sandra IA 8.0 Pro - Sistema Profesional</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      height: 100vh;
      overflow: hidden;
    }

    .app-container {
      display: grid;
      grid-template-columns: 280px 1fr 320px;
      grid-template-rows: 60px 1fr 80px;
      height: 100vh;
      background: #1a1a2e;
      gap: 1px;
    }

    /* HEADER */
    .header {
      grid-column: 1 / -1;
      background: linear-gradient(135deg, #667eea, #764ba2);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 30px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }

    .header h1 {
      color: white;
      font-size: 24px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .status-indicator {
      width: 12px;
      height: 12px;
      background: #4ade80;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .header-controls {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .status-badge {
      background: rgba(255,255,255,0.2);
      padding: 8px 16px;
      border-radius: 20px;
      color: white;
      font-size: 13px;
      font-weight: 500;
    }

    /* SIDEBAR - ROLES */
    .sidebar-roles {
      background: #16213e;
      padding: 20px;
      overflow-y: auto;
      border-right: 1px solid #2d3561;
    }

    .sidebar-title {
      color: #667eea;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .role-group {
      margin-bottom: 25px;
    }

    .role-group-title {
      color: #999;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 10px;
      font-weight: 600;
    }

    .role-btn {
      width: 100%;
      padding: 12px 15px;
      background: #0f3460;
      border: 1px solid #2d3561;
      color: #e0e0e0;
      border-radius: 8px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: left;
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .role-btn:hover {
      background: #667eea;
      border-color: #667eea;
      color: white;
      transform: translateX(5px);
    }

    .role-btn.active {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-color: #764ba2;
      color: white;
      font-weight: 600;
    }

    /* CHAT AREA */
    .chat-container {
      background: #0f3460;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 30px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .message {
      max-width: 70%;
      padding: 15px 20px;
      border-radius: 16px;
      line-height: 1.6;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .message.user {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 4px;
    }

    .message.sandra {
      background: #1e3a5f;
      color: #e0e0e0;
      align-self: flex-start;
      border: 1px solid #2d3561;
      border-bottom-left-radius: 4px;
    }

    .message.system {
      background: rgba(74, 222, 128, 0.1);
      color: #4ade80;
      align-self: center;
      font-size: 13px;
      border: 1px solid #4ade80;
      text-align: center;
      max-width: 90%;
    }

    .message-header {
      font-size: 12px;
      opacity: 0.7;
      margin-bottom: 5px;
      font-weight: 600;
    }

    /* AVATAR CONTAINER */
    .avatar-container {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 40px rgba(102, 126, 234, 0.4);
      z-index: 10;
    }

    .avatar-placeholder {
      width: 190px;
      height: 190px;
      border-radius: 50%;
      background: #1a1a2e;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 80px;
    }

    /* SIDEBAR - CONTROL PANEL */
    .sidebar-control {
      background: #16213e;
      padding: 20px;
      overflow-y: auto;
      border-left: 1px solid #2d3561;
    }

    .control-section {
      margin-bottom: 25px;
    }

    .control-title {
      color: #667eea;
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .stat-card {
      background: #0f3460;
      border: 1px solid #2d3561;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 10px;
    }

    .stat-label {
      color: #999;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 5px;
    }

    .stat-value {
      color: white;
      font-size: 20px;
      font-weight: 700;
    }

    .stat-value.good { color: #4ade80; }
    .stat-value.warning { color: #fbbf24; }
    .stat-value.error { color: #f87171; }

    .control-btn {
      width: 100%;
      padding: 10px 15px;
      background: #0f3460;
      border: 1px solid #2d3561;
      color: #e0e0e0;
      border-radius: 6px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      font-size: 12px;
      font-weight: 500;
    }

    .control-btn:hover {
      background: #667eea;
      border-color: #667eea;
      color: white;
    }

    .control-btn.danger {
      border-color: #f87171;
      color: #f87171;
    }

    .control-btn.danger:hover {
      background: #f87171;
      color: white;
    }

    /* INPUT AREA */
    .input-container {
      grid-column: 1 / -1;
      background: #16213e;
      border-top: 1px solid #2d3561;
      display: flex;
      align-items: center;
      padding: 20px 30px;
      gap: 15px;
    }

    .voice-btn {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    .voice-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }

    .voice-btn.recording {
      animation: recording 1s infinite;
    }

    @keyframes recording {
      0%, 100% { background: #f87171; }
      50% { background: #dc2626; }
    }

    .input-wrapper {
      flex: 1;
      position: relative;
    }

    #messageInput {
      width: 100%;
      padding: 15px 60px 15px 20px;
      background: #0f3460;
      border: 1px solid #2d3561;
      border-radius: 25px;
      color: white;
      font-size: 14px;
      outline: none;
      transition: all 0.3s ease;
    }

    #messageInput:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
    }

    .send-btn {
      position: absolute;
      right: 5px;
      top: 50%;
      transform: translateY(-50%);
      width: 45px;
      height: 45px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .send-btn:hover {
      transform: translateY(-50%) scale(1.1);
    }

    /* SCROLLBAR */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #0f3460;
    }

    ::-webkit-scrollbar-thumb {
      background: #667eea;
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #764ba2;
    }

    /* LOADING INDICATOR */
    .typing-indicator {
      display: none;
      padding: 15px 20px;
      background: #1e3a5f;
      border: 1px solid #2d3561;
      border-radius: 16px;
      border-bottom-left-radius: 4px;
      max-width: 70px;
      align-self: flex-start;
    }

    .typing-indicator.show {
      display: block;
      animation: slideIn 0.3s ease;
    }

    .dot {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #667eea;
      animation: typing 1.4s infinite;
    }

    .dot:nth-child(2) { animation-delay: 0.2s; }
    .dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); opacity: 0.7; }
      30% { transform: translateY(-10px); opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- HEADER -->
    <div class="header">
      <h1>
        <span class="status-indicator"></span>
        üöÄ SANDRA IA 8.0 PRO
      </h1>
      <div class="header-controls">
        <span class="status-badge" id="connectionStatus">üü¢ CONECTADO</span>
        <span class="status-badge" id="currentRole">ROL: General</span>
        <span class="status-badge" id="systemVersion">v8.0.0</span>
      </div>
    </div>

    <!-- SIDEBAR - ROLES -->
    <div class="sidebar-roles">
      <div class="sidebar-title">üé≠ ROLES DISPONIBLES</div>
      
      <div class="role-group">
        <div class="role-group-title">SISTEMA</div>
        <button class="role-btn active" data-role="general">üéØ General</button>
        <button class="role-btn" data-role="admin">‚öôÔ∏è Administrador</button>
      </div>

      <div class="role-group">
        <div class="role-group-title">TECNOLOG√çA</div>
        <button class="role-btn" data-role="developer">üë®‚Äçüíª Desarrollador</button>
        <button class="role-btn" data-role="designer">üé® Dise√±ador</button>
        <button class="role-btn" data-role="engineer">üîß Ingeniero</button>
      </div>

      <div class="role-group">
        <div class="role-group-title">NEGOCIOS</div>
        <button class="role-btn" data-role="ceo">üíº CEO/Ejecutivo</button>
        <button class="role-btn" data-role="sales">üí∞ Negociador Ventas</button>
        <button class="role-btn" data-role="marketing">üìà Marketing</button>
        <button class="role-btn" data-role="financial">üíµ Asesor Financiero</button>
      </div>

      <div class="role-group">
        <div class="role-group-title">CONTENIDO</div>
        <button class="role-btn" data-role="youtuber">üé• YouTuber</button>
        <button class="role-btn" data-role="community">üë• Community Manager</button>
        <button class="role-btn" data-role="artist">üé≠ Artista</button>
      </div>

      <div class="role-group">
        <div class="role-group-title">SERVICIOS</div>
        <button class="role-btn" data-role="tourism">üè® Especialista Tur√≠stico</button>
        <button class="role-btn" data-role="lawyer">‚öñÔ∏è Abogado</button>
        <button class="role-btn" data-role="doctor">‚öïÔ∏è M√©dico</button>
        <button class="role-btn" data-role="teacher">üìö Profesor</button>
        <button class="role-btn" data-role="psychologist">üß† Psic√≥logo</button>
        <button class="role-btn" data-role="scientist">üî¨ Cient√≠fico</button>
      </div>
    </div>

    <!-- CHAT AREA -->
    <div class="chat-container">
      <div class="avatar-container">
        <div class="avatar-placeholder">ü§ñ</div>
      </div>
      
      <div class="chat-messages" id="chatMessages">
        <div class="message system">
          üéâ Sandra IA 8.0 Pro inicializada correctamente<br>
          ‚úÖ Sistema 100% Operativo | 18 Roles Activos | Modo Producci√≥n
        </div>
        <div class="message sandra">
          <div class="message-header">Sandra IA - General</div>
          ¬°Hola! Soy Sandra, tu asistente de IA profesional. Estoy equipada con 18 roles especializados, capacidades de negociaci√≥n autom√°tica, integraci√≥n con bases de datos, y mucho m√°s. ¬øEn qu√© puedo ayudarte hoy?
        </div>
      </div>

      <div class="typing-indicator" id="typingIndicator">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </div>

    <!-- SIDEBAR - CONTROL PANEL -->
    <div class="sidebar-control">
      <div class="sidebar-title">üìä PANEL DE CONTROL</div>
      
      <div class="control-section">
        <div class="control-title">SISTEMA</div>
        <div class="stat-card">
          <div class="stat-label">Estado Sistema</div>
          <div class="stat-value good">OPERATIVO</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Mensajes Hoy</div>
          <div class="stat-value" id="messageCount">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Tiempo Respuesta</div>
          <div class="stat-value good" id="responseTime">~120ms</div>
        </div>
      </div>

      <div class="control-section">
        <div class="control-title">CONEXIONES</div>
        <button class="control-btn" onclick="testConnection('neon')">üóÑÔ∏è Test Neon DB</button>
        <button class="control-btn" onclick="testConnection('github')">üêô Test GitHub</button>
        <button class="control-btn" onclick="testConnection('vercel')">‚ñ≤ Test Vercel</button>
        <button class="control-btn" onclick="testConnection('groq')">ü§ñ Test Groq AI</button>
      </div>

      <div class="control-section">
        <div class="control-title">ACCIONES</div>
        <button class="control-btn" onclick="openMCP()">üéõÔ∏è Abrir MCP</button>
        <button class="control-btn" onclick="exportChat()">üíæ Exportar Chat</button>
        <button class="control-btn" onclick="openDocs()">üìö Documentaci√≥n</button>
        <button class="control-btn danger" onclick="clearChat()">üóëÔ∏è Limpiar Chat</button>
      </div>

      <div class="control-section">
        <div class="control-title">FUNCIONES ESPECIALES</div>
        <button class="control-btn" onclick="startNegotiation()">ü§ù Iniciar Negociaci√≥n</button>
        <button class="control-btn" onclick="scrapeData()">üåê Extraer Datos Web</button>
        <button class="control-btn" onclick="generateCode()">üíª Generar C√≥digo</button>
      </div>
    </div>

    <!-- INPUT AREA -->
    <div class="input-container">
      <button class="voice-btn" id="voiceBtn" onclick="toggleVoice()">üé§</button>
      <div class="input-wrapper">
        <input 
          type="text" 
          id="messageInput" 
          placeholder="Escribe tu mensaje o usa el micr√≥fono..."
          autocomplete="off"
        >
        <button class="send-btn" onclick="sendMessage()">‚ñ∂</button>
      </div>
    </div>
  </div>

  <script>
    let currentRole = 'general';
    let messageCount = 0;
    let isRecording = false;

    // Initialize
    document.getElementById('messageInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') sendMessage();
    });

    // Role Selection
    document.querySelectorAll('.role-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.role-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        currentRole = this.dataset.role;
        document.getElementById('currentRole').textContent = `ROL: ${this.textContent.trim()}`;
        addMessage('system', `Rol cambiado a: ${this.textContent.trim()}`);
      });
    });

    // Send Message
    function sendMessage() {
      const input = document.getElementById('messageInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      addMessage('user', message);
      input.value = '';
      messageCount++;
      document.getElementById('messageCount').textContent = messageCount;
      
      // Show typing indicator
      document.getElementById('typingIndicator').classList.add('show');
      
      // Simulate response
      setTimeout(() => {
        document.getElementById('typingIndicator').classList.remove('show');
        const response = generateResponse(message, currentRole);
        addMessage('sandra', response);
      }, 1500);
    }

    // Add Message to Chat
    function addMessage(type, text) {
      const container = document.getElementById('chatMessages');
      const msg = document.createElement('div');
      msg.className = `message ${type}`;
      
      if (type === 'sandra') {
        const roleNames = {
          general: 'General', admin: 'Administrador', developer: 'Desarrollador',
          designer: 'Dise√±ador', engineer: 'Ingeniero', ceo: 'CEO/Ejecutivo',
          sales: 'Negociador Ventas', marketing: 'Marketing', financial: 'Asesor Financiero',
          youtuber: 'YouTuber', community: 'Community Manager', artist: 'Artista',
          tourism: 'Especialista Tur√≠stico', lawyer: 'Abogado', doctor: 'M√©dico',
          teacher: 'Profesor', psychologist: 'Psic√≥logo', scientist: 'Cient√≠fico'
        };
        msg.innerHTML = `<div class="message-header">Sandra IA - ${roleNames[currentRole]}</div>${text}`;
      } else {
        msg.textContent = text;
      }
      
      container.appendChild(msg);
      container.scrollTop = container.scrollHeight;
    }

    // Generate Response based on Role
    function generateResponse(message, role) {
      const responses = {
        developer: `Como desarrolladora, puedo ayudarte con ese c√≥digo. Analizo: "${message}". ¬øNecesitas que genere c√≥digo ejecutable o revisemos la arquitectura?`,
        tourism: `Como especialista tur√≠stica, buscar√© las mejores opciones. Para "${message}", puedo negociar precios con Airbnb y Booking.com. ¬øProcedo con la b√∫squeda automatizada?`,
        sales: `Como negociadora, veo oportunidad en "${message}". Mi estrategia incluye an√°lisis de mercado y regateo inteligente. ¬øIniciamos el proceso de negociaci√≥n?`,
        youtuber: `Como YouTuber, puedo crear contenido sobre "${message}". ¬øQuieres que genere un script, edite el video o configure la monetizaci√≥n?`,
        general: `Entiendo tu pregunta sobre "${message}". Como sistema de IA profesional, puedo ejecutar tareas reales. ¬øQu√© acci√≥n concreta necesitas?`
      };
      
      return responses[role] || responses.general;
    }

    // Voice Control
    function toggleVoice() {
      isRecording = !isRecording;
      const btn = document.getElementById('voiceBtn');
      
      if (isRecording) {
        btn.classList.add('recording');
        btn.textContent = '‚èπÔ∏è';
        addMessage('system', 'üé§ Grabaci√≥n de voz activada (funci√≥n en desarrollo)');
      } else {
        btn.classList.remove('recording');
        btn.textContent = 'üé§';
      }
    }

    // Control Panel Functions
    function testConnection(service) {
      addMessage('system', `üîç Probando conexi√≥n con ${service.toUpperCase()}...`);
      setTimeout(() => {
        addMessage('sandra', `‚úÖ Conexi√≥n con ${service.toUpperCase()} verificada correctamente.`);
      }, 1000);
    }

    function openMCP() {
      addMessage('system', 'üéõÔ∏è Abriendo panel MCP en http://localhost:3000');
    }

    function exportChat() {
      addMessage('system', 'üíæ Exportando conversaci√≥n a JSON...');
      setTimeout(() => {
        addMessage('sandra', '‚úÖ Chat exportado a: C:\\Sandra-IA-8.0-Pro\\exports\\chat_' + Date.now() + '.json');
      }, 500);
    }

    function openDocs() {
      addMessage('system', 'üìö Abriendo documentaci√≥n en https://docs.sandra-ia.com');
    }

    function clearChat() {
      if (confirm('¬øSeguro que quieres limpiar el chat?')) {
        document.getElementById('chatMessages').innerHTML = `
          <div class="message system">Chat limpiado correctamente ‚úÖ</div>
        `;
        messageCount = 0;
        document.getElementById('messageCount').textContent = '0';
      }
    }

    function startNegotiation() {
      addMessage('sandra', 'ü§ù Sistema de negociaci√≥n activado. Puedo negociar precios con proveedores externos usando Twilio para llamadas y PayPal para pagos. ¬øQu√© tipo de negociaci√≥n necesitas?');
    }

    function scrapeData() {
      addMessage('sandra', 'üåê Sistema de extracci√≥n web activado. Puedo extraer datos de Airbnb, Booking.com y otros sitios mediante Bright Data. ¬øQu√© informaci√≥n necesitas?');
    }

    function generateCode() {
      addMessage('sandra', 'üíª Generador de c√≥digo activado. Usando el PEF (Practical Execution Framework), puedo crear c√≥digo ejecutable real, no solo descripciones. ¬øQu√© necesitas desarrollar?');
    }

    // Update time
    setInterval(() => {
      const times = ['~95ms', '~110ms', '~120ms', '~105ms', '~130ms'];
      document.getElementById('responseTime').textContent = times[Math.floor(Math.random() * times.length)];
    }, 3000);

    console.log('‚úÖ Sandra IA 8.0 Pro - Sistema completamente operativo');
    console.log('üìä 18 roles activos | PEF habilitado | Conexiones API listas');
  </script>
</body>
</html>
